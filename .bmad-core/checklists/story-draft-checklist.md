# 故事草稿检查清单 (Story Draft Checklist)

Scrum Master 应使用此检查清单来验证每个故事是否包含足够的上下文，以便开发者代理能够成功实现它，同时假设开发代理具有合理的能力来解决问题。

[[LLM: 初始化指令 - 故事草稿验证

在继续此检查清单之前，确保您可以访问：

1. 正在验证的故事文档（通常在 docs/stories/ 中或直接提供）
2. 父级 epic 上下文
3. 任何引用的架构或设计文档
4. 如果这是基于先前工作的构建，则包括先前的相关故事

重要提示：此检查清单在实施开始之前验证单个故事。

验证原则：

1. 清晰度 - 开发者应该理解要构建什么
2. 上下文 - 为什么要构建这个以及它如何适应
3. 指导 - 要遵循的关键技术决策和模式
4. 可测试性 - 如何验证实施是否有效
5. 自包含 - 大部分需要的信息都在故事本身中

记住：我们假设有能力的开发者代理可以：

- 研究文档和代码库
- 做出合理的技术决策
- 遵循既定模式
- 在真正遇到困难时寻求澄清

我们检查的是充分的指导，而不是详尽的细节。]]

## 1. 目标和上下文清晰度 (GOAL & CONTEXT CLARITY)

[[LLM: 没有明确的目标，开发者会构建错误的东西。验证：

1. 故事说明了要实现什么功能
2. 业务价值或用户利益是明确的
3. 解释了这如何融入更大的 epic/产品
4. 依赖关系是明确的（"需要故事 X 完成"）
5. 成功看起来像具体的东西，而不是模糊的]]

- [ ] 故事目标/目的明确说明
- [ ] 与 epic 目标的关系显而易见
- [ ] 解释了故事如何融入整体系统流程
- [ ] 识别了对先前故事的依赖（如适用）
- [ ] 业务上下文和价值清晰

## 2. 技术实现指导 (TECHNICAL IMPLEMENTATION GUIDANCE)

[[LLM: 开发者需要足够的技术上下文来开始编码。检查：

1. 提到了要创建或修改的关键文件/组件
2. 在非显而易见的地方指定了技术选择
3. 识别了与现有代码的集成点
4. 定义或引用了数据模型或 API 合约
5. 标注了非标准模式或例外

注意：我们不需要列出每个文件 - 只是重要的文件。]]

- [ ] 识别了要创建/修改的关键文件（不一定详尽）
- [ ] 提到了此故事特别需要的技术
- [ ] 充分描述了关键 API 或接口
- [ ] 引用了必要的数据模型或结构
- [ ] 列出了必需的环境变量（如适用）
- [ ] 注明了标准编码模式的任何例外

## 3. 引用有效性 (REFERENCE EFFECTIVENESS)

[[LLM: 引用应该有帮助，而不是创建寻宝游戏。确保：

1. 引用指向具体章节，而不是整个文档
2. 解释了每个引用的相关性
3. 在故事中总结了关键信息
4. 引用是可访问的（不是断开的链接）
5. 如果需要，总结了先前故事的上下文]]

- [ ] 对外部文档的引用指向具体相关章节
- [ ] 总结了先前故事的关键信息（不仅仅是引用）
- [ ] 提供了引用相关性的上下文
- [ ] 引用使用一致的格式（例如，`docs/filename.md#section`）

## 4. 自包含性评估 (SELF-CONTAINMENT ASSESSMENT)

[[LLM: 故事应该大部分自包含以避免上下文切换。验证：

1. 核心需求在故事中，而不仅仅在引用中
2. 领域术语被解释或从上下文中显而易见
3. 明确说明了假设
4. 提到了边界情况（即使被推迟）
5. 无需阅读 10 个其他文档就能理解故事]]

- [ ] 包含了所需的核心信息（不过度依赖外部文档）
- [ ] 明确说明了隐含假设
- [ ] 解释了领域特定术语或概念
- [ ] 处理了边界情况或错误场景

## 5. 测试指导 (TESTING GUIDANCE)

[[LLM: 测试确保实施实际有效。检查：

1. 指定了测试方法（单元、集成、e2e）
2. 列出了关键测试场景
3. 成功标准是可测量的
4. 标注了特殊测试考虑
5. 故事中的验收标准是可测试的]]

- [ ] 概述了所需的测试方法
- [ ] 识别了关键测试场景
- [ ] 定义了成功标准
- [ ] 注明了特殊测试考虑（如适用）

## 验证结果 (VALIDATION RESULT)

[[LLM: 最终故事验证报告

生成简洁的验证报告：

1. 快速总结
    - 故事准备就绪：准备就绪 / 需要修订 / 被阻塞
    - 清晰度评分（1-10）
    - 识别的主要差距

2. 填写验证表格：
    - 通过：要求明确满足
    - 部分：有一些差距但可行
    - 失败：缺少关键信息

3. 具体问题（如果有）
    - 列出要修复的具体问题
    - 建议具体改进
    - 识别任何阻塞依赖

4. 开发者视角
    - 你能按书面形式实施这个故事吗？
    - 你会有什么问题？
    - 什么可能导致延迟或返工？

要务实 - 完美的文档不存在，但它必须足够为开发代理提供极端上下文来完成工作而不造成混乱。]]

| 类别 (Category)                                     | 状态 (Status) | 问题 (Issues) |
| --------------------------------------------------- | ------------- | ------------- |
| 1. 目标和上下文清晰度 (Goal & Context Clarity)      | _TBD_         |               |
| 2. 技术实现指导 (Technical Implementation Guidance) | _TBD_         |               |
| 3. 引用有效性 (Reference Effectiveness)             | _TBD_         |               |
| 4. 自包含性评估 (Self-Containment Assessment)       | _TBD_         |               |
| 5. 测试指导 (Testing Guidance)                      | _TBD_         |               |

**最终评估 (Final Assessment):**

- READY: 故事为实现提供了足够的上下文
- NEEDS REVISION: 故事需要更新（见问题）
- BLOCKED: 需要外部信息（指定所需信息）
