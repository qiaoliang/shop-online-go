# 变更导航检查清单 (Change Navigation Checklist)

**目的:** 系统性地指导选定的代理和用户通过分析和规划，当在 BMad 工作流中识别到重大变更（转向、技术问题、缺少需求、失败的故事）时所需的分析和规划。

**指令:** 与用户一起审查每个项目。标记 `[x]` 表示已完成/确认，`[N/A]` 表示不适用，或为讨论点添加注释。

[[LLM: 初始化指令 - 变更导航

开发过程中的变更是不可避免的，但我们如何处理它们决定了项目的成功或失败。

在继续之前，理解：

1. 此检查清单适用于影响项目方向的重大变更
2. 故事内的微小调整不需要此流程
3. 目标是最小化浪费的工作，同时适应新的现实
4. 用户认同至关重要 - 他们必须理解并批准变更

所需上下文：

- 触发故事或问题
- 当前项目状态（已完成的故事，当前 epic）
- 访问 PRD、架构和其他关键文档
- 理解剩余计划工作

方法：
这是与用户的交互过程。一起处理每个部分，讨论影响和选项。用户做出最终决定，但提供技术可行性和影响方面的专家指导。

记住：变更是改进的机会，而不是失败。专业和建设性地处理它们。]]

---

## 1. 理解触发器和上下文 (Understand the Trigger & Context)

[[LLM: 首先完全理解什么出错了以及为什么。不要急于解决方案。提出深入问题：

- 具体发生了什么触发了此审查？
- 这是一次性问题还是更大问题的症状？
- 这能更早被预期吗？
- 哪些假设是不正确的？

要具体和事实性，而不是责备导向。]]

- [ ] **识别触发故事:** 明确识别揭示问题的故事（或故事）。
- [ ] **定义问题:** 精确地阐明核心问题。
    - [ ] 是技术限制/死胡同吗？
    - [ ] 是新发现的需求吗？
    - [ ] 是对现有需求的基本误解吗？
    - [ ] 是基于反馈或新信息的必要转向吗？
    - [ ] 是需要新方法的失败/放弃故事吗？
- [ ] **评估初始影响:** 描述立即观察到的后果（例如，阻塞进度、错误功能、不可行技术）。
- [ ] **收集证据:** 记录支持问题定义的任何具体日志、错误消息、用户反馈或分析。

## 2. Epic 影响评估 (Epic Impact Assessment)

[[LLM: 变更在项目结构中产生涟漪效应。系统性地评估：

1. 我们能通过修改挽救当前的 epic 吗？
2. 考虑到此变更，未来的 epics 仍然有意义吗？
3. 我们是创建还是消除依赖项？
4. epic 序列需要重新排序吗？

考虑即时和下游影响。]]

- [ ] **分析当前 Epic:**
    - [ ] 包含触发故事的当前 epic 仍然可以完成吗？
    - [ ] 当前 epic 需要修改（故事变更、添加、删除）吗？
    - [ ] 应该放弃或从根本上重新定义当前 epic 吗？
- [ ] **分析未来 Epics:**
    - [ ] 审查所有剩余计划的 epics。
    - [ ] 问题需要对未来 epics 中计划的故事进行变更吗？
    - [ ] 问题使任何未来 epics 无效吗？
    - [ ] 问题需要创建全新的 epics 吗？
    - [ ] 应该改变未来 epics 的顺序/优先级吗？
- [ ] **总结 Epic 影响:** 简要记录对项目 epic 结构和流程的整体影响。

## 3. 工件冲突和影响分析 (Artifact Conflict & Impact Analysis)

[[LLM: 文档在 BMad 中驱动开发。检查每个工件：

1. 此变更是否使记录的决策无效？
2. 架构假设仍然有效吗？
3. 用户流程需要重新思考吗？
4. 技术约束与记录的不同吗？

要彻底 - 错过的冲突会导致未来问题。]]

- [ ] **审查 PRD:**
    - [ ] 问题与 PRD 中陈述的核心目标或需求冲突吗？
    - [ ] 基于新的理解，PRD 需要澄清或更新吗？
- [ ] **审查架构文档:**
    - [ ] 问题与记录的架构（组件、模式、技术选择）冲突吗？
    - [ ] 特定组件/图表/部分受到影响吗？
    - [ ] 技术列表需要更新吗？
    - [ ] 数据模型或模式需要修订吗？
    - [ ] 外部 API 集成受到影响吗？
- [ ] **审查前端规范（如适用）:**
    - [ ] 问题与 FE 架构、组件库选择或 UI/UX 设计冲突吗？
    - [ ] 特定 FE 组件或用户流程受到影响吗？
- [ ] **审查其他工件（如适用）:**
    - [ ] 考虑对部署脚本、IaC、监控设置等的影响。
- [ ] **总结工件影响:** 列出需要更新的所有工件和所需变更的性质。

## 4. 前进路径评估 (Path Forward Evaluation)

[[LLM: 清晰地呈现选项，包括利弊。对于每个路径：

1. 需要什么努力？
2. 什么工作被抛弃？
3. 我们承担什么风险？
4. 这如何影响时间线？
5. 这在长期内可持续吗？

诚实地对待权衡。很少有完美的解决方案。]]

- [ ] **选项 1: 直接调整/集成:**
    - [ ] 问题能通过修改/添加现有计划中的未来故事来解决吗？
    - [ ] 定义这些调整的范围和性质。
    - [ ] 评估此路径的可行性、努力和风险。
- [ ] **选项 2: 潜在回滚:**
    - [ ] 回滚已完成的故事会显著简化解决问题吗？
    - [ ] 识别考虑回滚的特定故事/提交。
    - [ ] 评估回滚所需的努力。
    - [ ] 评估回滚的影响（丢失的工作、数据影响）。
    - [ ] 与直接调整比较净收益/成本。
- [ ] **选项 3: PRD MVP 审查和潜在重新范围:**
    - [ ] 考虑到问题和约束，原始 PRD MVP 仍然可实现吗？
    - [ ] MVP 范围需要减少（删除功能/epics）吗？
    - [ ] 核心 MVP 目标需要修改吗？
    - [ ] 需要替代方法来满足原始 MVP 意图吗？
    - [ ] **极端情况:** 问题需要根本性重新规划或潜在的新 PRD V2（由 PM 处理）吗？
- [ ] **选择推荐路径:** 基于评估，同意最可行的前进路径。

## 5. Sprint 变更提案组件 (Sprint Change Proposal Components)

[[LLM: 提案必须是可操作和清晰的。确保：

1. 用简单语言解释问题
2. 在可能的情况下量化影响
3. 推荐路径有明确的理由
4. 下一步是具体和分配的
5. 定义了变更的成功标准

此提案指导所有后续工作。]]

（确保提案中捕获了先前部分中所有商定的要点）

- [ ] **识别问题总结:** 清晰、简洁的问题陈述。
- [ ] **Epic 影响总结:** epics 如何受到影响。
- [ ] **工件调整需求:** 要更改的文档列表。
- [ ] **推荐前进路径:** 选择的解决方案和理由。
- [ ] **PRD MVP 影响:** 范围/目标的变更（如果有）。
- [ ] **高级行动计划:** 故事/更新的下一步。
- [ ] **代理交接计划:** 识别需要的角色（PM、Arch、Design Arch、PO）。

## 6. 最终审查和交接 (Final Review & Handoff)

[[LLM: 变更需要协调。在结束之前：

1. 用户是否完全与计划一致？
2. 所有利益相关者都理解影响吗？
3. 与其他代理的交接清楚吗？
4. 如果变更失败，有回滚计划吗？
5. 我们如何验证变更有效？

获得明确批准 - 隐含协议会导致问题。

最终报告：
完成检查清单后，提供简洁总结：

- 什么改变了以及为什么
- 我们对此做什么
- 谁需要做什么
- 我们什么时候知道它是否有效

保持行动导向和前瞻性。]]

- [ ] **审查检查清单:** 确认讨论了所有相关项目。
- [ ] **审查 Sprint 变更提案:** 确保它准确反映讨论和决策。
- [ ] **用户批准:** 获得对提案的明确用户批准。
- [ ] **确认下一步:** 重申交接计划和特定代理要采取的下一个行动。

---
