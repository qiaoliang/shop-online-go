# 创建 Brownfield Epic 任务(Create Brownfield Epic Task)

## 目的(Purpose)

为不需要完整 PRD 和架构文档流程的较小 brownfield 增强创建单一 epic。此任务适用于可在聚焦范围内完成的独立特性或修改。

## 何时使用此任务(When to Use This Task)

**在以下情况使用此任务：**

- 增强可在 1-3 个故事中完成
- 不需要重大架构变更
- 增强遵循现有项目模式
- 集成复杂度最小
- 对现有系统风险低

**在以下情况使用完整 brownfield PRD/架构流程：**

- 增强需要多个协调的故事
- 需要架构规划
- 需要重大集成工作
- 需要风险评估和缓解规划

## 指令(Instructions)

### 1. 项目分析（必需）(Project Analysis (Required))

创建 epic 前，收集现有项目的基本信息：

**现有项目上下文：**

- [ ] 项目目标和当前功能已理解
- [ ] 现有技术栈已识别
- [ ] 当前架构模式已记录
- [ ] 与现有系统的集成点已识别

**增强范围：**

- [ ] 增强已明确定义和范围
- [ ] 对现有功能的影响已评估
- [ ] 所需集成点已识别
- [ ] 成功标准已建立

### 2. Epic 创建(Epic Creation)

按以下结构创建聚焦的 epic：

#### Epic 标题(Epic Title)

{{增强名称}} - Brownfield 增强

#### Epic 目标(Epic Goal)

{{1-2 句描述 epic 将完成什么以及为什么增加价值}}

#### Epic 描述(Epic Description)

**现有系统上下文：**

- 当前相关功能：{{简要描述}}
- 技术栈：{{相关现有技术}}
- 集成点：{{新工作与现有系统的连接点}}

**增强详情：**

- 添加/更改内容：{{清晰描述}}
- 如何集成：{{集成方法}}
- 成功标准：{{可测量结果}}

#### 故事(Stories)

列出完成 epic 的 1-3 个聚焦故事：

1. **故事 1：**{{故事标题和简要描述}}
2. **故事 2：**{{故事标题和简要描述}}
3. **故事 3：**{{故事标题和简要描述}}

#### 兼容性要求(Compatibility Requirements)

- [ ] 现有 API 保持不变
- [ ] 数据库 schema 变更向后兼容
- [ ] UI 变更遵循现有模式
- [ ] 性能影响最小

#### 风险缓解(Risk Mitigation)

- **主要风险：**{{对现有系统的主要风险}}
- **缓解：**{{如何解决风险}}
- **回滚计划：**{{如需要如何撤销变更}}

#### 完成定义(Definition of Done)

- [ ] 所有故事完成且满足验收标准
- [ ] 通过测试验证现有功能
- [ ] 集成点正常工作
- [ ] 文档适当更新
- [ ] 现有功能无回归

### 3. 验证清单(Validation Checklist)

最终确定 epic 前，确保：

**范围验证：**

- [ ] Epic 最多可在 1-3 个故事中完成
- [ ] 不需要架构文档
- [ ] 增强遵循现有模式
- [ ] 集成复杂度可管理

**风险评估：**

- [ ] 对现有系统风险低
- [ ] 回滚计划可行
- [ ] 测试方法涵盖现有功能
- [ ] 团队对集成点有足够了解

**完整性检查：**

- [ ] Epic 目标清晰且可实现
- [ ] 故事范围适当
- [ ] 成功标准可测量
- [ ] 依赖关系已识别

### 4. 交接给故事经理(Handoff to Story Manager)

Epic 验证后，向故事经理提供此交接：

---

**故事经理交接：**

"请为此 brownfield epic 开发详细的用户故事。关键考虑：

- 这是对运行 {{技术栈}} 的现有系统的增强
- 集成点：{{列出关键集成点}}
- 要遵循的现有模式：{{相关现有模式}}
- 关键兼容性要求：{{关键要求}}
- 每个故事必须包括验证现有功能保持完整的步骤

Epic 应在交付 {{epic 目标}} 的同时维护系统完整性。"

---

## 成功标准(Success Criteria)

Epic 创建成功时：

1. 增强范围明确定义且大小适当
2. 集成方法尊重现有系统架构
3. 对现有功能的风险最小化
4. 故事逻辑排序以便安全实施
5. 兼容性要求明确指定
6. 回滚计划可行且有文档

## 重要说明(Important Notes)

- 此任务专门用于小型 brownfield 增强
- 如范围超过 3 个故事，考虑完整 brownfield PRD 流程
- 始终优先考虑现有系统完整性而非新功能
- 对范围或复杂度有疑问时，升级到完整 brownfield 规划
